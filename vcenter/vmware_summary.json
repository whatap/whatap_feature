{
  "name": "VMware Summary",
  "widgets": [
    {
      "id": "QHMkn6Y51",
      "title": "Cluster Storage Adapter",
      "isMultiProject": true,
      "supports": [
        {
          "platform": "INFRA"
        }
      ],
      "layout": {
        "w": 16,
        "h": 3,
        "x": 16,
        "y": 22,
        "i": "QHMkn6Y51",
        "moved": false,
        "static": false
      },
      "requestApi": "SERIES",
      "widgetType": "SERIES",
      "icon": "line-chart",
      "category": "telegraf_vsphere_host_cpu",
      "option": {
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 6
      },
      "metrics": [
        {
          "name": "Clustername",
          "tags": [
            {
              "key": "clustername",
              "title": "Clustername",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Cpu",
          "tags": [
            {
              "key": "cpu",
              "title": "Cpu",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Dcname",
          "tags": [
            {
              "key": "dcname",
              "title": "Dcname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Esxhostname",
          "tags": [
            {
              "key": "esxhostname",
              "title": "Esxhostname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Moid",
          "tags": [
            {
              "key": "moid",
              "title": "Moid",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Oname",
          "tags": [
            {
              "key": "oname",
              "title": "Oname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Project",
          "mql": "INJECT timepast\nHEADER { \"bytesRx_average$\":\"#\",\"bytesTx_average$\":\"#\" }\nOIDSET { oid:$oid, okind:$okind, onode:$onode }\nCATEGORY {\"telegraf_vsphere_host_adapter\":6h, \"telegraf_vsphere_host_adapter{m5}\":3d, \"telegraf_vsphere_host_adapter{h1}\":unlimit } \nTAGLOAD\nINJECT default\nUPDATE { key: ['maxTotalLatency_latest'], value: $TIME_MERGE_PLACE }\nSELECT [ 'pcode', 'time', 'oid', 'cpu', 'maxTotalLatency_latest', 'pname' ]\nFILTER { key: \"maxTotalLatency_latest\", exist: true }\n\nCREATE { key:_id_, expr: \"pcode+'_'+pname\" }\nGROUP {  merge: ['maxTotalLatency_latest'], pk: _id_ }\nUPDATE { key: ['maxTotalLatency_latest'], value: $OBJECT_MERGE_PLACE }\n",
          "param": {
            "$OBJECT_MERGE_PLACE": "avg"
          }
        },
        {
          "name": "Source",
          "tags": [
            {
              "key": "source",
              "title": "Source",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Vcenter",
          "tags": [
            {
              "key": "vcenter",
              "title": "Vcenter",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        }
      ]
    },
    {
      "id": "xQXJbjjB3",
      "title": "Cluster Memory Usage %",
      "isMultiProject": true,
      "supports": [
        {
          "platform": "INFRA"
        }
      ],
      "layout": {
        "w": 16,
        "h": 3,
        "x": 16,
        "y": 19,
        "i": "xQXJbjjB3",
        "moved": false,
        "static": false
      },
      "requestApi": "SERIES",
      "widgetType": "SERIES",
      "icon": "line-chart",
      "category": "telegraf_vsphere_host_cpu",
      "option": {
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 6,
        "chart": "SERIES",
        "yAxis": {
          "min": 0,
          "max": 100
        }
      },
      "metrics": [
        {
          "name": "Clustername",
          "tags": [
            {
              "key": "clustername",
              "title": "Clustername",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Cpu",
          "tags": [
            {
              "key": "cpu",
              "title": "Cpu",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Dcname",
          "tags": [
            {
              "key": "dcname",
              "title": "Dcname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Esxhostname",
          "tags": [
            {
              "key": "esxhostname",
              "title": "Esxhostname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Moid",
          "tags": [
            {
              "key": "moid",
              "title": "Moid",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Oname",
          "tags": [
            {
              "key": "oname",
              "title": "Oname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Project",
          "mql": "INJECT timepast\nHEADER { \"usage_average$\":\"#\" }\nOIDSET { oid:$oid, okind:$okind, onode:$onode }\nCATEGORY {\"telegraf_vsphere_host_mem\":6h, \"telegraf_vsphere_host_mem{m5}\":3d, \"telegraf_vsphere_host_mem{h1}\":unlimit } \nTAGLOAD\nINJECT default\nUPDATE { key: ['usage_average'], value: $TIME_MERGE_PLACE }\nSELECT [ 'pcode', 'time', 'oid', 'usage_average', 'pname' ]\nFILTER { key: \"usage_average\", exist: true }\n\nCREATE { key:_id_, expr: \"pcode+'_'+pname\" }\nCREATE { key:_name_, value: \"Memory Usage Avg\" }\nGROUP {  merge: ['usage_average'], pk: _id_, last: _name_ }\nUPDATE { key: ['usage_average'], value: $OBJECT_MERGE_PLACE }\nDELETE ['_rows_']",
          "param": {
            "$OBJECT_MERGE_PLACE": "avg"
          }
        },
        {
          "name": "Source",
          "tags": [
            {
              "key": "source",
              "title": "Source",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Vcenter",
          "tags": [
            {
              "key": "vcenter",
              "title": "Vcenter",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        }
      ]
    },
    {
      "id": "lQBNGbQ_c",
      "title": "Cluster Network Usage",
      "isMultiProject": true,
      "supports": [
        {
          "platform": "INFRA"
        }
      ],
      "layout": {
        "w": 16,
        "h": 3,
        "x": 0,
        "y": 22,
        "i": "lQBNGbQ_c",
        "moved": false,
        "static": false
      },
      "requestApi": "SERIES",
      "widgetType": "SERIES",
      "icon": "line-chart",
      "category": "telegraf_vsphere_host_cpu",
      "option": {
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 6
      },
      "metrics": [
        {
          "name": "Clustername",
          "tags": [
            {
              "key": "clustername",
              "title": "Clustername",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Cpu",
          "tags": [
            {
              "key": "cpu",
              "title": "Cpu",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Dcname",
          "tags": [
            {
              "key": "dcname",
              "title": "Dcname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Esxhostname",
          "tags": [
            {
              "key": "esxhostname",
              "title": "Esxhostname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Moid",
          "tags": [
            {
              "key": "moid",
              "title": "Moid",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Oname",
          "tags": [
            {
              "key": "oname",
              "title": "Oname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Project",
          "mql": "INJECT timepast\nHEADER { \"bytesRx_average$\":\"#\",\"bytesTx_average$\":\"#\" }\nOIDSET { oid:$oid, okind:$okind, onode:$onode }\nCATEGORY {\"telegraf_vsphere_host_net\":6h, \"telegraf_vsphere_host_net{m5}\":3d, \"telegraf_vsphere_host_net{h1}\":unlimit } \nTAGLOAD\nINJECT default\nUPDATE { key: ['bytesRx_average','bytesTx_average'], value: $TIME_MERGE_PLACE }\nSELECT [ 'pcode', 'time', 'oid', 'cpu', 'bytesRx_average','bytesTx_average', 'pname' ]\nFILTER { key: \"bytesRx_average\", exist: true }\nFILTER { key: \"bytesTx_average\", exist: true }\n\nCREATE { key:_id_, expr: \"pcode+'_'+pname\" }\nGROUP {  merge: ['bytesRx_average','bytesTx_average'], pk: _id_ }\nUPDATE { key: ['bytesRx_average','bytesTx_average'], value: $OBJECT_MERGE_PLACE }\n",
          "param": {
            "$OBJECT_MERGE_PLACE": "avg"
          }
        },
        {
          "name": "Source",
          "tags": [
            {
              "key": "source",
              "title": "Source",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Vcenter",
          "tags": [
            {
              "key": "vcenter",
              "title": "Vcenter",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        }
      ]
    },
    {
      "icon": "agent",
      "supports": [
        {
          "productType": "SMS"
        }
      ],
      "metrics": [
        {
          "mql": "\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_mem\r\nTAGLOAD {backward:true}\r\nSELECT [time, vcenter, clustername, esxhostname, totalCapacity_average]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"esxhostname\", exist: true}\r\nFIRST-ONLY {key:[vcenter, clustername, esxhostname]}\r\nGROUP { pk: [vcenter, clustername], merge:totalCapacity_average }\r\nUPDATE {key:totalCapacity_average, value:sum}\r\nCREATE {key:host_mem, expr:\"totalCapacity_average*1024*1024\"}\r\n\r\nJOIN { query: vm, pk: [vcenter,clustername], field: [\"vm_mem\"] }\r\nCREATE {key:\"mem_over_ratio\", expr:\"vm_mem / host_mem\"}\r\nselect [ mem_over_ratio, vm_mem,host_mem ]\r\n\r\nSUB vm\r\nTIME-RANGE {recent: 10m}\r\nCATEGORY telegraf_vsphere_resourcepool_mem\r\nTAGLOAD {backward:true}\r\nSELECT [time,vcenter, clustername, capacity_provisioned_average\r\n]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"clustername\", exist: true}\r\nFIRST-ONLY {key:[vcenter, clustername]}\r\nRENAME {src:capacity_provisioned_average, dst:vm_mem}\r\nSELECT [time, vcenter, clustername, vm_mem]\r\nEND\r\n"
        }
      ],
      "title": "All Overprovisioned Memory",
      "dirname": "v1/02.sys",
      "widgetType": "COUNT",
      "requestApi": "LAST",
      "option": {
        "legend": {
          "host_mem": {
            "label": "Host",
            "unit": "B"
          },
          "vm_mem": {
            "label": "VM",
            "unit": "B"
          },
          "mem_over_ratio": {
            "label": "Over Ratio"
          }
        },
        "chart": "STATISTIC",
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 0
      },
      "_key_": "v1/02.sys/server_agent_count",
      "id": "SDqliYA-b",
      "layout": {
        "w": 51,
        "h": 3,
        "x": 0,
        "y": 15,
        "i": "SDqliYA-b",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "minimumVersion": "1.93.0",
      "icon": "table",
      "supports": [
        {
          "productType": "SMS"
        },
        {
          "uiConfig": "ui_show_log_sink_conf"
        }
      ],
      "metrics": [
        {
          "name": "status",
          "mql": "\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD {backward:true}\r\nSELECT [time, oid,cpu, vcenter, clustername, esxhostname, usage_average]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"esxhostname\", exist: true}\r\nFILTER {key:\"cpu\", value: \"instance-total\"}\r\nFIRST-ONLY {key:[time, vcenter, clustername, esxhostname]}\r\nGROUP {key:[vcenter, clustername], merge:usage_average, last:[vcenter, clustername]}\r\nupdate {key:usage_average, value:avg}\r\nORDER {key:[\"usage_average\"], sort:desc}\r\nselect [vcenter, clustername, usage_average]\r\nFIRST-ONLY {key:[ vcenter, clustername]}\r\n"
        }
      ],
      "title": "CPU Usage",
      "dirname": "v1/06.logs",
      "widgetType": "TABLE",
      "requestApi": "LAST",
      "searchKeys": [
        "log",
        "로그",
        "ログ"
      ],
      "option": {
        "globalTime": false,
        "liveUpdateIntervalSec": 60,
        "legend": {
          "vcenter": {
            "unit": "#",
            "name": "vCenter",
            "width": 148,
            "order": 0
          },
          "clustername": {
            "unit": "#",
            "name": "cluster",
            "width": 148,
            "order": 1
          },
          "usage_average": {
            "unit": "#",
            "name": "CPU Usage",
            "width": 148,
            "order": 2
          }
        },
        "sort": {
          "uptime_latest": false
        },
        "metrics": 0,
        "panel": {
          "header": {
            "display": ""
          }
        }
      },
      "_key_": "v1/06.logs/logsink_collection_status",
      "id": "9D_RsZg4s",
      "layout": {
        "w": 16,
        "h": 6,
        "x": 17,
        "y": 5,
        "i": "9D_RsZg4s",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "minimumVersion": "1.93.0",
      "icon": "table",
      "supports": [
        {
          "productType": "SMS"
        },
        {
          "uiConfig": "ui_show_log_sink_conf"
        }
      ],
      "metrics": [
        {
          "name": "status",
          "mql": "TIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_mem\r\nTAGLOAD {backward:true}\r\nSELECT [time, oid, vcenter, clustername, esxhostname, usage_average]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"esxhostname\", exist: true}\r\nFIRST-ONLY {key:[ vcenter, clustername, esxhostname]}\r\nGROUP {key:[vcenter, clustername], merge:usage_average, last:[vcenter, clustername]}\r\nupdate {key:usage_average, value:avg}\r\nORDER {key:[\"usage_average\"], sort:desc}\r\nselect [vcenter, clustername, usage_average]\r\nFIRST-ONLY {key:[ vcenter, clustername]}\r\n\r\n"
        }
      ],
      "title": "Memory Usage",
      "dirname": "v1/06.logs",
      "widgetType": "TABLE",
      "requestApi": "LAST",
      "searchKeys": [
        "log",
        "로그",
        "ログ"
      ],
      "option": {
        "globalTime": false,
        "liveUpdateIntervalSec": 60,
        "legend": {
          "vcenter": {
            "unit": "#",
            "name": "vcenter",
            "width": 148,
            "order": 0
          },
          "clustername": {
            "unit": "#",
            "name": "clustername",
            "width": 148,
            "order": 1
          },
          "usage_average": {
            "unit": "#",
            "name": "Memory Usage",
            "width": 148,
            "order": 2
          }
        },
        "sort": {
          "uptime_latest": false
        },
        "metrics": 0,
        "panel": {
          "header": {
            "display": ""
          }
        }
      },
      "_key_": "v1/06.logs/logsink_collection_status",
      "id": "Qes6C0GkG",
      "layout": {
        "w": 18,
        "h": 6,
        "x": 33,
        "y": 5,
        "i": "Qes6C0GkG",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "icon": "agent",
      "supports": [
        {
          "productType": "SMS"
        }
      ],
      "metrics": [
        {
          "mql": "\r\nTIME-RANGE {recent:120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD\r\nSELECT [oid, vcenter]\r\nFILTER {key:\"vcenter\", exist: true}\r\nGROUP { pk: \"vcenter\", merge: [vcenter] }\r\nUPDATE {key:\"vcenter\", value:count}\r\nGROUP { pk: \"pcode\" }\r\nRENAME {src:_rows_, dst:vcenter_count}\r\nDELETE [vcenter]\r\nJOIN { query: cluster, pk: \"pcode\", field: [\"cluster_count\"] }\r\nJOIN { query: esxhost, pk: \"pcode\", field: [\"esxhost_count\"] }\r\nJOIN { query: vm, pk: \"pcode\", field: [\"vm_count\"] }\r\nJOIN { query: ds, pk: \"pcode\", field: [\"ds_count\"] }\r\n\r\nSELECT [\"vcenter_count\",\"cluster_count\",\"esxhost_count\",\"vm_count\", \"ds_count\"]\r\nFIRST-ONLY\r\n\r\n\r\nSUB cluster\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD\r\nSELECT [oid, clustername]\r\nFILTER {key:\"clustername\", exist: true}\r\nGROUP { pk: \"clustername\", merge: [clustername] }\r\nUPDATE {key:\"clustername\", value:count}\r\nGROUP { pk: \"pcode\" }\r\nRENAME {src:_rows_, dst:cluster_count}\r\nDELETE [clustername]\r\nEND\r\n\r\nSUB esxhost\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD\r\nSELECT [oid, esxhostname]\r\nFILTER {key:\"esxhostname\", exist: true}\r\nGROUP { pk: \"esxhostname\", merge: [esxhostname] }\r\nUPDATE {key:\"esxhostname\", value:count}\r\nGROUP { pk: \"pcode\" }\r\nRENAME {src:_rows_, dst:esxhost_count}\r\nDELETE [esxhostname]\r\nEND\r\n\r\n\r\nSUB vm\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_vm_cpu\r\nTAGLOAD\r\nSELECT [oid, vmname]\r\nFILTER {key:\"vmname\", exist: true}\r\nGROUP { pk: \"vmname\", merge: [vmname] }\r\nUPDATE {key:\"vmname\", value:count}\r\nGROUP { pk: \"pcode\" }\r\nRENAME {src:_rows_, dst:vm_count}\r\nDELETE [vmname]\r\nEND\r\n\r\n\r\nSUB ds\r\nTIME-RANGE {recent: 300s}\r\nCATEGORY telegraf_vsphere_datastore_disk\r\nTAGLOAD\r\nSELECT [oid, dsname]\r\nFILTER {key:\"dsname\", exist: true}\r\nGROUP { pk: \"dsname\" }\r\nUPDATE {key:\"dsname\", value:count}\r\nGROUP { pk: \"pcode\" }\r\nRENAME {src:_rows_, dst:ds_count}\r\nDELETE [dsname]\r\nEND\r\n"
        }
      ],
      "title": "vSphere Overview",
      "dirname": "v1/02.sys",
      "widgetType": "COUNT",
      "requestApi": "LAST",
      "option": {
        "legend": {
          "vcenter_count": {
            "label": "vCenter",
            "type": "",
            "hide": false,
            "order": 0
          },
          "cluster_count": {
            "label": "Cluster",
            "type": "",
            "hide": false,
            "order": 1
          },
          "esxhost_count": {
            "label": "ESXHost",
            "type": "",
            "hide": false,
            "order": 2
          },
          "vm_count": {
            "label": "VM",
            "type": "",
            "hide": false,
            "order": 3
          },
          "ds_count": {
            "label": "DataStore",
            "type": "",
            "hide": false,
            "order": 4
          }
        },
        "chart": "STATISTIC",
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 0
      },
      "_key_": "v1/02.sys/server_agent_count",
      "id": "J7Lu_BwSA",
      "layout": {
        "w": 51,
        "h": 3,
        "x": 0,
        "y": 1,
        "i": "J7Lu_BwSA",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "icon": "note",
      "supports": [],
      "title": "리치 텍스트",
      "dirname": "v1/99.etc",
      "widgetType": "RICH_TEXT",
      "requestApi": "NONE",
      "_key_": "v1/99.etc/rich_text",
      "id": "HqTdLeoQ6",
      "layout": {
        "w": 51,
        "h": 1,
        "x": 0,
        "y": 0,
        "i": "HqTdLeoQ6",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      },
      "option": {
        "markdown": "# Datacenter"
      }
    },
    {
      "icon": "note",
      "supports": [],
      "title": "리치 텍스트",
      "dirname": "v1/99.etc",
      "widgetType": "RICH_TEXT",
      "requestApi": "NONE",
      "_key_": "v1/99.etc/rich_text",
      "id": "yrKRymV3j",
      "layout": {
        "w": 51,
        "h": 1,
        "x": 0,
        "y": 4,
        "i": "yrKRymV3j",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      },
      "option": {
        "markdown": "# Cluster"
      }
    },
    {
      "icon": "note",
      "supports": [],
      "title": "리치 텍스트",
      "dirname": "v1/99.etc",
      "widgetType": "RICH_TEXT",
      "requestApi": "NONE",
      "_key_": "v1/99.etc/rich_text",
      "id": "s10w__m_d",
      "layout": {
        "w": 51,
        "h": 1,
        "x": 0,
        "y": 11,
        "i": "s10w__m_d",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      },
      "option": {
        "markdown": "# Over Provisioned"
      }
    },
    {
      "icon": "agent",
      "supports": [
        {
          "productType": "SMS"
        }
      ],
      "metrics": [
        {
          "mql": " \r\n\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_cpu\r\nTAGLOAD {backward:true}\r\nSELECT [time, oid,cpu, vcenter, clustername, esxhostname, usage_average]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"esxhostname\", exist: true}\r\nFILTER {expr: \" cpu != 'instance-total'\"}\r\nFIRST-ONLY {key:[vcenter, clustername, esxhostname]}\r\nGROUP { pk: [vcenter, clustername, esxhostname] }\r\nRENAME {src:_rows_, dst:host_cpu}\r\nJOIN { query: vm, pk: [vcenter,clustername, esxhostname], field: [\"vm_cpu\"] }\r\nGROUP { merge:[vm_cpu, host_cpu]}\r\nUPDATE { key:[vm_cpu, host_cpu], value:sum}\r\nCREATE {key:\"cpu_over_ratio\", expr:\"vm_cpu / host_cpu\"}\r\nselect [ time, vcenter, esxhostname,cpu_over_ratio, vm_cpu,host_cpu ]\r\n\r\nSUB vm\r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_vm_cpu\r\nTAGLOAD {backward:true}\r\nSELECT [time, oid,cpu, vcenter, clustername, esxhostname]\r\nFILTER {key:\"vcenter\", exist: true}\r\nFILTER {key:\"clustername\", exist: true}\r\nFILTER {key:\"esxhostname\", exist: true}\r\nFILTER {expr: \" cpu != 'instance-total'\"}\r\nFIRST-ONLY {key:[vcenter, clustername, esxhostname]}\r\nGROUP { pk: [vcenter, clustername, esxhostname]}\r\nRENAME {src:_rows_, dst:vm_cpu}\r\nSELECT [time, vcenter, clustername, esxhostname, vm_cpu]\r\nEND\r\n"
        }
      ],
      "title": "All Overprovisioned CPU",
      "dirname": "v1/02.sys",
      "widgetType": "COUNT",
      "requestApi": "LAST",
      "option": {
        "legend": {
          "host_cpu": {
            "label": "Host",
            "type": ""
          },
          "vm_cpu": {
            "label": "VM",
            "type": ""
          },
          "cpu_over_ratio": {
            "label": "Over Ratio",
            "type": ""
          }
        },
        "chart": "STATISTIC",
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 0
      },
      "_key_": "v1/02.sys/server_agent_count",
      "id": "k84wCH1je",
      "layout": {
        "w": 51,
        "h": 3,
        "x": 0,
        "y": 12,
        "i": "k84wCH1je",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "icon": "note",
      "supports": [],
      "title": "리치 텍스트",
      "dirname": "v1/99.etc",
      "widgetType": "RICH_TEXT",
      "requestApi": "NONE",
      "_key_": "v1/99.etc/rich_text",
      "id": "9qYaPQN88",
      "layout": {
        "w": 51,
        "h": 1,
        "x": 0,
        "y": 18,
        "i": "9qYaPQN88",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      },
      "option": {
        "markdown": "# Cluster Status"
      }
    },
    {
      "minimumVersion": "1.93.0",
      "icon": "table",
      "supports": [
        {
          "productType": "SMS"
        },
        {
          "uiConfig": "ui_show_log_sink_conf"
        }
      ],
      "metrics": [
        {
          "name": "status",
          "mql": " \r\nTIME-RANGE {recent: 120s}\r\nCATEGORY telegraf_vsphere_host_sys\r\nTAGLOAD {backward:true}\r\nSELECT [time, oid,vcenter, clustername, uptime_latest]\r\nFILTER {key:\"vcenter\", exist: true}\r\n\r\nORDER {key:[\"time\",\"uptime_latest\"], sort:desc}\r\nFIRST-ONLY {key:[vcenter, clustername]}\r\nLIMIT 1\r\n\r\n"
        }
      ],
      "title": "Uptime",
      "dirname": "v1/06.logs",
      "widgetType": "TABLE",
      "requestApi": "LAST",
      "searchKeys": [
        "log",
        "로그",
        "ログ"
      ],
      "option": {
        "globalTime": false,
        "liveUpdateIntervalSec": 60,
        "legend": {
          "vcenter": {
            "unit": "#",
            "name": "vcenter",
            "width": 148,
            "order": 0
          },
          "clustername": {
            "unit": "#",
            "name": "clustername",
            "width": 148,
            "order": 1
          },
          "uptime_latest": {
            "unit": "#",
            "name": "Uptime Seconds",
            "width": 148,
            "order": 2
          }
        },
        "sort": {
          "uptime_latest": false
        },
        "metrics": 0,
        "panel": {
          "header": {
            "display": ""
          }
        }
      },
      "_key_": "v1/06.logs/logsink_collection_status",
      "id": "OnOBsttQCG",
      "layout": {
        "w": 17,
        "h": 6,
        "x": 0,
        "y": 5,
        "i": "OnOBsttQCG",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      }
    },
    {
      "id": "IXUedyFDdE",
      "title": "Cluster CPU Usage %",
      "isMultiProject": true,
      "supports": [
        {
          "platform": "INFRA"
        }
      ],
      "layout": {
        "w": 16,
        "h": 3,
        "x": 0,
        "y": 19,
        "i": "IXUedyFDdE",
        "moved": false,
        "static": false
      },
      "requestApi": "SERIES",
      "widgetType": "SERIES",
      "icon": "line-chart",
      "category": "telegraf_vsphere_host_cpu",
      "option": {
        "panel": {
          "header": {
            "display": ""
          }
        },
        "metrics": 6,
        "chart": "SERIES"
      },
      "metrics": [
        {
          "name": "Clustername",
          "tags": [
            {
              "key": "clustername",
              "title": "Clustername",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Cpu",
          "tags": [
            {
              "key": "cpu",
              "title": "Cpu",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Dcname",
          "tags": [
            {
              "key": "dcname",
              "title": "Dcname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Esxhostname",
          "tags": [
            {
              "key": "esxhostname",
              "title": "Esxhostname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Moid",
          "tags": [
            {
              "key": "moid",
              "title": "Moid",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Oname",
          "tags": [
            {
              "key": "oname",
              "title": "Oname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Project",
          "mql": "INJECT timepast\nHEADER { \"usage_average$\":\"#\" }\nOIDSET { oid:$oid, okind:$okind, onode:$onode }\nCATEGORY {\"telegraf_vsphere_host_cpu\":6h, \"telegraf_vsphere_host_cpu{m5}\":3d, \"telegraf_vsphere_host_cpu{h1}\":unlimit } \nTAGLOAD\nINJECT default\nUPDATE { key: ['usage_average'], value: $TIME_MERGE_PLACE }\nSELECT [ 'pcode', 'time', 'oid', 'cpu', 'usage_average', 'pname' ]\nFILTER { key: \"usage_average\", exist: true }\nFILTER { expr: \"cpu != 'instance-total'\"}\n\nCREATE { key:_id_, expr: \"cpu\" }\nCREATE { key:_name_, expr: \"cpu\" }\nGROUP {  merge: ['usage_average'], pk: _id_, last: _name_ }\nUPDATE { key: ['usage_average'], value: $OBJECT_MERGE_PLACE }\nDELETE ['_rows_']",
          "param": {
            "$OBJECT_MERGE_PLACE": "avg"
          }
        },
        {
          "name": "Source",
          "tags": [
            {
              "key": "source",
              "title": "Source",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Vcenter",
          "tags": [
            {
              "key": "vcenter",
              "title": "Vcenter",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "usage_average",
              "title": "Usage_average",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        }
      ]
    },
    {
      "id": "jyTktcuSB9",
      "title": "Datastores - Usage Capacity",
      "isMultiProject": true,
      "supports": [
        {
          "platform": "INFRA"
        }
      ],
      "layout": {
        "w": 19,
        "h": 6,
        "x": 32,
        "y": 19,
        "i": "jyTktcuSB9",
        "minW": 4,
        "minH": 1,
        "moved": false,
        "static": false
      },
      "requestApi": "SERIES",
      "widgetType": "SERIES",
      "icon": "line-chart",
      "category": "telegraf_vsphere_datastore_disk",
      "option": {
        "metrics": 6,
        "chart": "SERIES",
        "chartAside": {
          "ratio": 100,
          "chart": "BAR"
        },
        "panel": {
          "header": {
            "display": ""
          }
        }
      },
      "metrics": [
        {
          "name": "Dcname",
          "tags": [
            {
              "key": "dcname",
              "title": "Dcname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Disk",
          "tags": [
            {
              "key": "disk",
              "title": "Disk",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Dsname",
          "tags": [
            {
              "key": "dsname",
              "title": "Dsname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Moid",
          "tags": [
            {
              "key": "moid",
              "title": "Moid",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Oname",
          "tags": [
            {
              "key": "oname",
              "title": "Oname",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Project",
          "tags": [
            {
              "key": "pname",
              "title": "Project",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Source",
          "tags": [
            {
              "key": "source",
              "title": "Source",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        },
        {
          "name": "Vcenter",
          "tags": [
            {
              "key": "vcenter",
              "title": "Vcenter",
              "unit": "#"
            }
          ],
          "fields": [
            {
              "objectMerge": "avg",
              "timeMerge": "avg",
              "key": "capacity_latest",
              "title": "Capacity_latest",
              "unit": "#"
            }
          ],
          "mqlType": "automated"
        }
      ]
    }
  ],
  "extra": {
    "layout": {
      "type": "FIXED",
      "monitor": {
        "x": 3,
        "y": 3
      }
    },
    "option": {}
  }
}